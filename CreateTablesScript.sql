CREATE TABLE [dbo].[Pomodoroes] (
    [PomodoroId] [uniqueidentifier] NOT NULL,
    [TaskId] [uniqueidentifier] NOT NULL,
    [StartTime] [datetime] NOT NULL,
    [DurationInMin] [int] NOT NULL,
    [IsSuccessfull] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.Pomodoroes] PRIMARY KEY ([PomodoroId])
)
CREATE INDEX [IX_TaskId] ON [dbo].[Pomodoroes]([TaskId])
CREATE TABLE [dbo].[Tasks] (
    [TaskId] [uniqueidentifier] NOT NULL,
    [Name] [nvarchar](max),
    [PomodoroCount] [int] NOT NULL,
    [UserId] [uniqueidentifier] NOT NULL,
    [ProjectId] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Tasks] PRIMARY KEY ([TaskId])
)
CREATE INDEX [IX_UserId] ON [dbo].[Tasks]([UserId])
CREATE INDEX [IX_ProjectId] ON [dbo].[Tasks]([ProjectId])
CREATE TABLE [dbo].[Projects] (
    [ProjectId] [uniqueidentifier] NOT NULL,
    [Name] [nvarchar](max),
    CONSTRAINT [PK_dbo.Projects] PRIMARY KEY ([ProjectId])
)
CREATE TABLE [dbo].[Users] (
    [UserId] [uniqueidentifier] NOT NULL,
    [UserName] [nvarchar](max),
    [Password] [nvarchar](max),
    [ShowWarningAfterPomodoroExpires] [bit] NOT NULL,
    [PomodoroDurationInMin] [int] NOT NULL,
    [TeamId] [uniqueidentifier],
    [CurrentUserTeamId] [uniqueidentifier],
    CONSTRAINT [PK_dbo.Users] PRIMARY KEY ([UserId])
)
CREATE INDEX [IX_TeamId] ON [dbo].[Users]([TeamId])
CREATE TABLE [dbo].[Teams] (
    [TeamId] [uniqueidentifier] NOT NULL,
    [Name] [nvarchar](max),
    CONSTRAINT [PK_dbo.Teams] PRIMARY KEY ([TeamId])
)
CREATE TABLE [dbo].[UserTeams] (
    [UserTeamId] [uniqueidentifier] NOT NULL,
    [TeamId] [uniqueidentifier] NOT NULL,
    [UserId] [uniqueidentifier] NOT NULL,
    [StartTime] [datetime] NOT NULL,
    [StopTime] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.UserTeams] PRIMARY KEY ([UserTeamId])
)
CREATE INDEX [IX_TeamId] ON [dbo].[UserTeams]([TeamId])
CREATE INDEX [IX_UserId] ON [dbo].[UserTeams]([UserId])
ALTER TABLE [dbo].[Pomodoroes] ADD CONSTRAINT [FK_dbo.Pomodoroes_dbo.Tasks_TaskId] FOREIGN KEY ([TaskId]) REFERENCES [dbo].[Tasks] ([TaskId])
ALTER TABLE [dbo].[Tasks] ADD CONSTRAINT [FK_dbo.Tasks_dbo.Projects_ProjectId] FOREIGN KEY ([ProjectId]) REFERENCES [dbo].[Projects] ([ProjectId])
ALTER TABLE [dbo].[Tasks] ADD CONSTRAINT [FK_dbo.Tasks_dbo.Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[Users] ([UserId])
ALTER TABLE [dbo].[UserTeams] ADD CONSTRAINT [FK_dbo.UserTeams_dbo.Teams_TeamId] FOREIGN KEY ([TeamId]) REFERENCES [dbo].[Teams] ([TeamId])
ALTER TABLE [dbo].[UserTeams] ADD CONSTRAINT [FK_dbo.UserTeams_dbo.Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[Users] ([UserId])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201606071934261_initial', N'Model.Migrations.Configuration',  0x1F8B0800000000000400D55C5B6FECB6117E2F90FF20E8A92D4E2CDBE725357613386B9FC0686C1F9C75D2BE19B4C45D33912845A29C3582FCB23EF427F52F94D495E245D46D251B06165E911C0E391FE742CDECFFFEF3DFD57787C0B75E609CA010AFEDB39353DB82D80D3D84F76B3B25BBAFBFB1BFFBF6ABBFACAEBDE060FD5CF6FBC8FAD1913859DBCF8444178E93B8CF3000C94980DC384CC21D3971C3C0015EE89C9F9EFEC3393B73202561535A96B5FA92628202987DA15F372176614452E0DF861EF493E2396DD96654AD3B10C024022E5CDB590FDBBAF411A0936FA1BFB32D80714800A1AC5DFC94C02D8943BCDF46F401F01F5E2348FBED809FC082E58BBA7B57EE4FCF19F74E3DB024E5A60909839E04CF3E16DBE188C3076DAA5D6D17DDB06BBAB1E495AD3ADBB4B5FD390C422F8C43DB1227BBD8F831EB58ECE949D9F383957DFF50899BA282FD7DB036A94FD218AE314C490C688FCFE9938FDC7FC2D787F05788D738F57D9E1BCA0F6D6B3CA08F3EC7610463F2FA05EE041E6F3CDB729AE31D9140355C31365FCD0F29A2FFDF515EC0930F2BD93BAD641E40F2EB48125B0262F240615D52B90204E6DF7B52BA4AE34C4237F816E192DA0D261FCF7B93BA49B6A9EBC224D931D914A4BE0F431F026C2676075ED03E6345B15DB6F505FA5963F28CA2FC2C9EB086C75226896D7D8AC3E04BE81743EA96C70710EF21A11C85CAE66D98C6AEC0D0CAA9D1DD8AF99C3B13DE59AFF9B15E02AD2FCE270028FB2C0950254955BC6DDD82C38F10EFC933DD1570A0F24207E8954F0AAA3F61442D021D44E2D4384929C24D4875FC38EC525D1E8F5C32FDFA0B74495F2A5ADC73C81E03FE12DD1AF09767A33357F92A953C156D8F6C8A064B8D06E938365B55A7B18D2126392537AC4166A57E2AF1C1358D5209D51619AD60DE7101235843B5B70D1C86F259D443AB09511FA38E90150F911AD083D092E3D70415D66B7E9C945AB12F4826D0A68CC43C460424C9EF61EC1D7DA2ED73F8FBBF408C29F5CB1D8171A983AF0F118A61D2DB61D2988B091DBA0708829162DCA4710C3161D21C426DC08936AA7DF12C2B2C42672EE892D4D699363C32C24DCB5C3D955DD2BA69880164C3F5DB51111777A46A50DAC2BA759C879C6D92D143A6BD16F0900B4CF6F690C79F8C994D6001C62158953C4819C6136335878C02ABF9870EABD9C728AC96A4BA19E46530CBEBD221867902EC4E4062021761BA4B902D09A36184FA9B868E20575929F9084C122475300F5A6E1AC6A3CB91BB4C92D045191B9C29E722D9E68AAEB167B587B5B9022D4362AA43E9B143113D6874F2B57D668B07EA1E5F411F12685DBAF92DEA06242EF064D1D205781D99A93452CD4C7D17DA64E8EFD23CF46443E62321E06FA86CA8AE4098C86A00611745C06FDD0D61548F4B21B6DE6A0EB1E50A46107B94C5D6D58F9BBC9A4310826977560E87A876A035633D9D6835811F27D932BC9F05699AAB9376D44F0432E5567411B3F67EA117CC944B1F3DFD0C40E342109D5855F1482DD35C19CF822FD57DD82CE09277A08B68D53712BD6025AF78DCC433008A73D1B51649E1AF7372CC7C8D794CA322C86D47F6542651DA814E1649E949F73387D28AC74D3C9386AA9DD036DDA0F0489BD254414B96A88EA84AE71C1BAB83D595C4F64C0053CAE1FD602C3BF3463834E38C8930D6BCDB9AD1C08EC318CFF68C565192C31B338C794449C7103A02C6D25B604CE041F5DA8DB258DCDE24C5B599081C46770B89FCE6B50E62A5B84E425F934871052D11C85D2AC3E0C283553250861F0612C58D9E343E87BE89F9FC8E4E663E3B881D66D611A84FB340841379730FF997DC5C27F56B701183C6EB838AF74A60128E8D513F4783E3555411CD057658BCF06A525E7B4B3CDB21A2E5B9AED0D6B27875206ADABF01EBE65FE0C88BD6C556A6E88A63B438192D6B5504454758287FF1AE40B6C6E73779FD3CA3F9216C43B4ECAC9B366AA044B92B4FB55035EE68078754E0D8BC6AB50B6ADAB8310BCF956ECBC2651FA98397347CE10DBF6884C4CB5BDECA26576D2B27CFA72D1EAC1C4DE2EDEA164411C27B2E11B778626DF32CDCCDD7DBFEB9AA414EC3711BA747F420AA994818833D145AE9D494D34F284EC81520E009B0FBFF8D1748DD440F44631ECBD944274396576934CB11ECFF7C54337D56E1A015433ED1F504CCBB634B830A0B250FB5580A34F041DC92F5BA09FD34C0A64CDA366AE50D304F49772BACA7C2BDFAE109718FBBD3121226787A4253779A422A2C4F53689269AE1C418692632D01448A469A88EB84479D4D356131F367FBE3503DECB8A8C95FB9F334F227DD290819A7AAE3503475A75906503C315D50D5C2597DE7DDE04A7F15BE18D22A777380E22B829F017A4F3772CA0D1D0FBC8544A2F3334DF250B92D1D84A11E76DC035227148A747A2B812A63B0018CEA690F33664A096C183753E7FE6AACC5F469BAF430F4C5DD6343656BEE23F55414F9833C4145F39B3953B93B3EC0A02A62A02E065539ECB8D279177A6DA81CAAABAA61FAAD9F3C74006F47F671A53B8DDE9DD255AFF3B49AA4CAA733E34E8A7EC52ED5EC55142C44BBAB22F234D7A24AA168DEC5B6E816BD208F85A1DBD784C0E0847538D9FEE66F7C0499275A76B80518ED6042F2EC43FBFCF4EC5CA86D7D3B75A64E9278BE227257159B36E5B54011688AD16F2944EC4D07DA2176D133AA20542627BDD0B8C11E3CACED3FB2F117D6CDBF1F73121FACFB984AFAC23AB5FE1C9F4EE90102C96435A58861718A8AD2276422D4AF7873007EA629AC1C8D9B3B2E851CBF80D87D06F15F0370F81B4F697021E5108135B37A07213927310AC9528DDA20462A2A3D78E95D233844794D58BCB71404FB55C70DD8A4692AD7466F8F58C536EE940A956AA38875AC46332B5BBD3699CC0C34CB0D86D9C78CC428ADA22D65EB89927E855343ACD324454DEF42350CDDA2696B68C63B806F02E06FC3784FE7868A553D1D091DA57265A942953A5D69DEDA94B94A515ADE84BEE7EA93050B4E3AA175DA0293196B4A3A63F39DD4902C553632274A342F998E9206DB191FEFA11E64A912904EC09CB0EA63CE3CFC779477DF5ADBB1343EA4F9BBE7F9BF0B9C4C30DF9BAAD158B23E716EACCC69707A6165F15A0B392152949BBA92A2B590227F9345E3B32716A6E47159D92AE735280B2DB475162ADAEAFC6D4D09465B058692714D2EBDB24A425B9EA1A2ACCECD55556E680B3794BBA1CC75D6D574B49674E8B8564F3147C58794B7DF5EE220A0B59930FBF62A3A54451CC60216E3962C57B221A5A22FB29889CA32A482026366BE71F94B965E0C5B92344A5BFFB57071453FE84DB5B41EE51372A20835EEDC4F9B53C72241FB9A04FBA1730CDD8659AFFADCE05D587A1702476517E12EF51612E0519B7F1913B4032EA1CDECBD7CF6AB653F033FA55DAE8327E8DDE0FB944429A14B86C193FFCA6F06F352DAE6CF6A449A3CAFEEA3EC078BA658026513B12BE07BFC7D8A7CAFE2FB93E20A584382B93F3F40FA3C9725F5A608DCBF5694EE42DC9150B17D95D7F60083C8A7C4927BBC052F70086F147E3FC23D705FCB7C1F3D11B3209ADBBEBA42601F531B5ED0A8C7D3AF14C35E70F8F6FF43D7BBAAE15F0000 , N'6.1.3-40302')

